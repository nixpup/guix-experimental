(let ((orgfile (expand-file-name "~/.guixmacs/config/e.org"))
      (elfile  (expand-file-name "~/.guixmacs/config/e.el")))
  (when (or (not (file-exists-p elfile))
            (file-newer-than-file-p orgfile elfile))
    (require 'org)
    ;; Force tangling to the specific elfile path
    (org-babel-tangle-file orgfile elfile))

  ;; Safety check: only load if the file actually exists now
  (if (file-exists-p elfile)
      (load-file elfile)
    (message "Warning: %s could not be generated!" elfile)))
